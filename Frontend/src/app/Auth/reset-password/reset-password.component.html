<ion-content class="reset-content">
  <div class="background-shapes">
    <div class="shape shape1"></div>
    <div class="shape shape2"></div>
    <div class="shape shape3"></div>
    <div class="shape shape4"></div>
    <div class="shape shape5"></div>
  </div>

  <div class="reset-container">
    <ion-card class="reset-card">
      <ion-card-content>
        <h2 class="titulo-app">Panadería Delicias</h2>
        <h3 class="subtitulo">Restablecer contraseña</h3>

        <form [formGroup]="resetForm" (ngSubmit)="cambiarPassword()">
          <ion-item lines="none" class="input-item">
            <ion-label position="floating">Nueva contraseña</ion-label>
            <ion-input
              type="password"
              formControlName="nueva"
              placeholder="••••••••"
              [disabled]="loading"
            ></ion-input>
          </ion-item>

          <ion-text
            color="danger"
            *ngIf="resetForm.get('nueva')?.touched && resetForm.get('nueva')?.invalid"
          >
            <p class="error-text">Debe tener al menos 6 caracteres.</p>
          </ion-text>

          <ion-button
            expand="block"
            shape="round"
            type="submit"
            class="btn-reset"
            [disabled]="loading"
          >
            {{ loading ? 'Actualizando...' : 'Cambiar contraseña' }}
          </ion-button>

          <ion-text color="medium" *ngIf="mensaje">
            <p class="mensaje">{{ mensaje }}</p>
          </ion-text>
        </form>

        <div class="text-center text-white text-sm mt-6">
          <a routerLink="/Auth/login" class="recuperar-link">
            Volver al inicio de sesión
          </a>
        </div>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
